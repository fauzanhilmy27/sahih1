!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=1)}({1:function(e,t,a){e.exports=a("u9MH")},u9MH:function(e,t,a){"use strict";var s,n,l,r,i,d,o,c,g,p,m=(p=function(){$("#modalDetail").on("hidden.bs.modal",(function(){d="",o="",c="",g="",$.fn.dataTable.isDataTable("#data-telemetry-table")&&i.destroy(),$('#nav-tab a[href="#tab-detail-informasi-pos"]').tab("show"),$("#data-telemetry-table thead,#data-telemetry-table tbody").empty()})),$("#modalDetail").on("shown.bs.modal",(function(){$("#periode").val(currDate).datepicker("remove"),$("#periode_chart").val(currDate).datepicker("remove"),$("#time_type_chart").val("minute").trigger("change"),$("#time_type").val("minute").trigger("change")})),h(),b(),$(document).on("change","#time_type",(function(){$("#periode").val("").datepicker("remove"),h(),x()})),$(document).on("change","#time_type_chart",(function(){$("#periode_chart").val("").datepicker("remove"),b(),y()})),$("#btnDataTelemetri").click((function(){if(""===$("#periode").val())return toastr.warning("Silahkan Pilih Periode.","Perhatian!",{timeOut:5e3});$.fn.dataTable.isDataTable("#data-telemetry-table")&&i.ajax.reload()})),$("#btnChart").click((function(){if(""===$("#periode_chart").val())return toastr.warning("Silahkan Pilih Periode.","Perhatian!",{timeOut:5e3});y()})),s="opsdabwskal3"===subDomain?$("#awlr-table").DataTable({language:{url:baseUrl+"/data/datatable_indonesia.json"},ajax:{url:baseUrl+"/getAwlrLastReading",type:"POST",datatype:"JSON",data:function(e){token,e.filter_das=$("#filter_das").val()},headers:{"X-CSRF-TOKEN":token}},order:[[2,"desc"],[3,"desc"]],columns:[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"station",name:"station",sClass:"no-wrap",render:function(e,t,a){return'<a href="javascript:void(0)" class="text-blue font-weight-bold" data="'+a.device_id+'" onclick="showDetailByDeviceId(this,event)">'+e+"</a>"}},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap",render:function(e,t,a){return moment.locale("id"),null!=a.reading_at&&""!=a.reading_at?moment(a.reading_at).format("D MMMM YYYY"):""}},{data:"reading_hour",name:"reading_hour",sClass:"text-center",render:function(e,t,a){return moment.locale("id"),null!=a.reading_at&&""!=a.reading_at?moment(a.reading_at).format("HH:mm"):""}},{data:"tinggi_mercu",name:"tinggi_mercu",sClass:"text-center"},{data:"tma_sensor",name:"tma_sensor",sClass:"text-center",createdCell:function(e,t,a,s,n){switch(a.status){case"Normal":$(e).addClass("tma_normal");break;case"Siaga 3":$(e).addClass("tma_siaga_3");break;case"Siaga 2":$(e).addClass("tma_siaga_2");break;case"Siaga 1":$(e).addClass("tma_siaga_1")}},render:function(e,t,a){return'<span class="text-dark font-weight-bold">'+e+"</span>"}},{data:"tma_limpas",name:"tma_limpas",sClass:"text-center"},{data:"change",name:"change",sClass:"text-center"},{data:"debit",name:"debit",sClass:"text-center"},{data:"volume_tampungan",name:"volume_tampungan",sClass:"text-center"}],serverSide:"true",processing:"true",drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}):$("#awlr-table").DataTable({language:{url:baseUrl+"/data/datatable_indonesia.json"},ajax:{url:baseUrl+"/getAwlrLastReading",type:"POST",datatype:"JSON",data:function(e){token,e.filter_das=$("#filter_das").val()},headers:{"X-CSRF-TOKEN":token}},order:[[2,"desc"],[3,"desc"]],columns:[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"station",name:"station",render:function(e,t,a){return'<a href="javascript:void(0)" class="text-blue font-weight-bold" data="'+a.device_id+'" onclick="showDetailByDeviceId(this,event)">'+e+"</a>"}},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap",render:function(e,t,a){return moment.locale("id"),null!=a.reading_at&&""!=a.reading_at?moment(a.reading_at).format("D MMMM YYYY"):""}},{data:"reading_hour",name:"reading_hour",sClass:"text-center",render:function(e,t,a){return moment.locale("id"),null!=a.reading_at&&""!=a.reading_at?moment(a.reading_at).format("HH:mm"):""}},{data:"tma",name:"tma",sClass:"text-center",createdCell:function(e,t,a,s,n){switch(a.status){case"Normal":$(e).addClass("tma_normal");break;case"Siaga 3":$(e).addClass("tma_siaga_3");break;case"Siaga 2":$(e).addClass("tma_siaga_2");break;case"Siaga 1":$(e).addClass("tma_siaga_1")}},render:function(e,t,a){return'<span class="text-dark font-weight-bold">'+e+"</span>"}},{data:"change",name:"change",sClass:"text-center"},{data:"debit",name:"debit",sClass:"text-center"},{data:"battery",name:"battery",sClass:"text-center"}],serverSide:"true",processing:"true",drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}),n=$("#arr-table").DataTable({language:{url:baseUrl+"/data/datatable_indonesia.json"},aLengthMenu:[[25,50,100,200,-1],[25,50,100,200,"All"]],iDisplayLength:-1,ajax:{url:baseUrl+"/getArrLastReading",type:"POST",datatype:"JSON",data:function(e){token,e.filter_das=$("#filter_das").val()},headers:{"X-CSRF-TOKEN":token}},order:[[2,"desc"],[3,"desc"]],columns:[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"station",name:"station",sClass:"no-wrap",render:function(e,t,a){return'<a href="javascript:void(0)" class="text-blue font-weight-bold" data="'+a.device_id+'" onclick="showDetailByDeviceId(this,event)">'+e+"</a>"}},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap",render:function(e,t,a){return moment.locale("id"),null!=a.reading_at&&""!=a.reading_at?moment(a.reading_at).format("D MMMM YYYY"):""}},{data:"reading_hour",name:"reading_hour",sClass:"text-center no-wrap",render:function(e,t,a){return moment.locale("id"),null!=a.reading_at&&""!=a.reading_at?moment(a.reading_at).format("HH:mm"):""}},{data:"rainfall_minute",name:"rainfall_minute",sClass:"text-center font-weight-bold",render:function(e,t,a){return null!=a.reading_at&&""!=a.reading_at?e:""}},{data:"rainfall_hour",name:"rainfall_hour",sClass:"text-center font-weight-bold",render:function(e,t,a){return null!=a.reading_at&&""!=a.reading_at?e:""}},{data:"intensity_hour",name:"intensity_hour",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<span class="small"><div class="badge text-white" style="background-color: #959392;">Berawan</div></span>':"Hujan Ringan"===e?'<span class="small"><span class="small"><div class="badge badge-success small">Hujan Ringan</div></span>':"Hujan Sedang"===e?'<span class="small"><div class="badge badge-warning text-white">Hujan Sedang</div></span>':"Hujan Lebat"===e?'<span class="small"><div class="badge text-white" style="background-color: #FF781F;">Hujan Lebat</div></span>':"Hujan Sangat Lebat"===e?'<span class="small"><div class="badge badge-danger">Hujan Sangat Lebat</div></span>':"-"}},{data:"rainfall_day",name:"rainfall_day",sClass:"text-center font-weight-bold",render:function(e,t,a){return null!=a.reading_at&&""!=a.reading_at?e:""}},{data:"intensity_day",name:"intensity_day",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<span class="small"><div class="badge text-white" style="background-color: #959392;">Berawan</div></span>':"Hujan Ringan"===e?'<span class="small"><span class="small"><div class="badge badge-success small">Hujan Ringan</div></span>':"Hujan Sedang"===e?'<span class="small"><div class="badge badge-warning text-white">Hujan Sedang</div></span>':"Hujan Lebat"===e?'<span class="small"><div class="badge text-white" style="background-color: #FF781F;">Hujan Lebat</div></span>':"Hujan Sangat Lebat"===e?'<span class="small"><div class="badge badge-danger">Hujan Sangat Lebat</div></span>':"Hujan Ekstrem"===e?'<span class="small"><div class="badge text-white" style="background-color: #800080;">Hujan Ekstrem</div></span>':"-"}},{data:"manual_7",name:"manual_7",sClass:"text-center font-weight-bold"},{data:"battery",name:"battery",sClass:"text-center"}],serverSide:"true",processing:"true",drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}),l=$("#awlr-arr-table").DataTable({language:{url:baseUrl+"/data/datatable_indonesia.json"},ajax:{url:baseUrl+"/getAwlrArrLastReading",type:"POST",datatype:"JSON",data:{_token:token},headers:{"X-CSRF-TOKEN":token}},order:[[2,"desc"],[3,"desc"]],columns:[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"station",name:"station",render:function(e,t,a){return'<a href="javascript:void(0)" class="text-blue font-weight-bold" data="'+a.id+'" onclick="showDetail(this,event)">'+e+"</a>"}},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"reading_hour",name:"reading_hour",sClass:"text-center no-wrap"},{data:"tma",name:"tma",sClass:"text-center",createdCell:function(e,t,a,s,n){switch(a.status){case"Normal":$(e).addClass("tma_normal");break;case"Siaga 3":$(e).addClass("tma_siaga_3");break;case"Siaga 2":$(e).addClass("tma_siaga_2");break;case"Siaga 1":$(e).addClass("tma_siaga_1")}},render:function(e,t,a){return'<span class="text-dark font-weight-bold">'+e+"</span>"}},{data:"change",name:"change",sClass:"text-center"},{data:"debit",name:"debit",sClass:"text-center"},{data:"rainfall_hour",name:"rainfall_hour",sClass:"text-center font-weight-bold",render:function(e,t,a){return e}},{data:"intensity_hour",name:"intensity_hour",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<span class="small"><div class="badge text-white" style="background-color: #959392;">Berawan</div></span>':"Hujan Ringan"===e?'<span class="small"><span class="small"><div class="badge badge-success small">Hujan Ringan</div></span>':"Hujan Sedang"===e?'<span class="small"><div class="badge badge-warning text-white">Hujan Sedang</div></span>':"Hujan Lebat"===e?'<span class="small"><div class="badge text-white" style="background-color: #FF781F;">Hujan Lebat</div></span>':"Hujan Sangat Lebat"===e?'<span class="small"><div class="badge badge-danger">Hujan Sangat Lebat</div></span>':"-"}},{data:"rainfall_day",name:"rainfall_day",sClass:"text-center font-weight-bold",render:function(e,t,a){return e}},{data:"intensity_day",name:"intensity_day",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<span class="small"><div class="badge text-white" style="background-color: #959392;">Berawan</div></span>':"Hujan Ringan"===e?'<span class="small"><span class="small"><div class="badge badge-success small">Hujan Ringan</div></span>':"Hujan Sedang"===e?'<span class="small"><div class="badge badge-warning text-white">Hujan Sedang</div></span>':"Hujan Lebat"===e?'<span class="small"><div class="badge text-white" style="background-color: #FF781F;">Hujan Lebat</div></span>':"Hujan Sangat Lebat"===e?'<span class="small"><div class="badge badge-danger">Hujan Sangat Lebat</div></span>':"Hujan Ekstrem"===e?'<span class="small"><div class="badge text-white" style="background-color: #800080;">Hujan Ekstrem</div></span>':"-"}}],serverSide:"true",processing:"true",drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}),r=$("#aws-table").DataTable({language:{url:baseUrl+"/data/datatable_indonesia.json"},ajax:{url:baseUrl+"/getAwsLastReading",type:"POST",datatype:"JSON",data:{_token:token},headers:{"X-CSRF-TOKEN":token}},order:[[2,"desc"],[3,"desc"]],columns:[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"station",name:"station",sClass:"no-wrap",render:function(e,t,a){return'<a href="javascript:void(0)" class="text-blue font-weight-bold" data="'+a.id+'" onclick="showDetail(this,event)">'+e+"</a>"}},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"reading_hour",name:"reading_hour",sClass:"text-center no-wrap"},{data:"humidity",name:"humidity",sClass:"text-center font-weight-bold"},{data:"pressure",name:"pressure",sClass:"text-center font-weight-bold"},{data:"rainfall",name:"rainfall",sClass:"text-center font-weight-bold"},{data:"solar_radiation",name:"solar_radiation",sClass:"text-center font-weight-bold"},{data:"temperature",name:"temperature",sClass:"text-center font-weight-bold"},{data:"wind_direction",name:"wind_direction",sClass:"text-center font-weight-bold"},{data:"wind_speed",name:"wind_speed",sClass:"text-center font-weight-bold"},{data:"volt",name:"volt",sClass:"text-center font-weight-bold"},{data:"evaporation",name:"evaporation",sClass:"text-center font-weight-bold"}],serverSide:"true",processing:"true",drawCallback:function(){$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}}),setInterval(u,3e5)},{init:function(){p()}});function u(){s.ajax.reload(),n.ajax.reload(),l.ajax.reload(),r.ajax.reload()}function h(){"day"===$("#time_type").val()?($("#periode").datepicker({format:"yyyy-mm",startView:"months",minViewMode:"months",todayHighlight:!0,orientation:"bottom",autoclose:!0}),$("#periode").datepicker("update","{{ date('Y-m') }}")):($("#periode").datepicker({format:"yyyy-mm-dd",todayHighlight:!0,orientation:"bottom",autoclose:!0}),$("#periode").datepicker("update","{{ date('Y-m-d') }}"))}function b(){"AWLR"===o?"minute"===$("#time_type_chart").val()?($("#periode_chart").datepicker({autoclose:!0,minViewMode:1,orientation:"bottom",format:"yyyy-mm"}),$("#periode_chart").datepicker("update","{{ date('Y-m') }}")):($("#periode_chart").datepicker({autoclose:!0,minViewMode:1,orientation:"bottom",format:"yyyy"}),$("#periode_chart").datepicker("update","{{ date('Y') }}")):"minute"===$("#time_type_chart").val()||"hour"===$("#time_type_chart").val()?($("#periode_chart").datepicker({format:"yyyy-mm-dd",todayHighlight:!0,orientation:"bottom",autoclose:!0}),$("#periode_chart").datepicker("update","{{ date('Y-m-d') }}")):($("#periode_chart").datepicker({autoclose:!0,minViewMode:1,orientation:"bottom",format:"yyyy-mm"}),$("#periode_chart").datepicker("update","{{ date('Y-m') }}"))}function x(){$.fn.dataTable.isDataTable("#data-telemetry-table")&&i.destroy(),$("#data-telemetry-table thead,#data-telemetry-table tbody").empty(),"AWLR"===o?(c=baseUrl+"/getAwlrReadingByPeriode","minute"===$("#time_type").val()||"hour"===$("#time_type").val()?($("#data-telemetry-table thead").html('<tr><th class="text-center" scope="col">No.</th><th class="text-center" scope="col">Tanggal</th><th class="text-center" scope="col">Jam</th><th class="text-center" scope="col">TMA</th><th class="text-center" scope="col">Perubahan</th><th class="text-center" scope="col">Debit (m3/s)</th><th class="text-center" scope="col">Status</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"reading_hour",name:"reading_hour",sClass:"text-center no-wrap"},{data:"tma",name:"tma",sClass:"text-center font-weight-bold"},{data:"change",name:"change",sClass:"text-center"},{data:"debit",name:"debit",sClass:"text-center"},{data:"status",name:"status",sClass:"text-center",render:function(e,t,a){return"Normal"===e?'<div class="badge text-white" style="background-color: #4DC27E;">Normal</div>':"Siaga 3"===e?'<div class="badge" style="background-color: #FFDA4F;">Siaga 3</div>':"Siaga 2"===e?'<div class="badge text-white" style="background-color: #FFA600;">Siaga 2</div>':"Siaga 1"===e?'<div class="badge text-white" style="background-color: #EF5350;">Siaga 1</div>':"-"}}]):($("#data-telemetry-table thead").html('<tr><th class="text-center" scope="col">No.</th><th class="text-center" scope="col">Tanggal</th><th class="text-center" scope="col">TMA</th><th class="text-center" scope="col">Perubahan</th><th class="text-center" scope="col">Debit (m3/s)</th><th class="text-center" scope="col">Status</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"tma",name:"tma",sClass:"text-center font-weight-bold"},{data:"change",name:"change",sClass:"text-center"},{data:"debit",name:"debit",sClass:"text-center"},{data:"status",name:"status",sClass:"text-center",render:function(e,t,a){return"Normal"===e?'<div class="badge text-white" style="background-color: #4DC27E;">Normal</div>':"Siaga 3"===e?'<div class="badge" style="background-color: #FFDA4F;">Siaga 3</div>':"Siaga 2"===e?'<div class="badge text-white" style="background-color: #FFA600;">Siaga 2</div>':"Siaga 1"===e?'<div class="badge text-white" style="background-color: #EF5350;">Siaga 1</div>':"-"}}])):"ARR"===o?(c=baseUrl+"/getArrReadingByPeriode","minute"===$("#time_type").val()?($("#data-telemetry-table thead").html('<tr><th class="text-center" scope="col">No.</th><th class="text-center" scope="col">Tanggal</th><th class="text-center" scope="col">Jam</th><th class="text-center" scope="col">CH (mm)</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"reading_hour",name:"reading_hour",sClass:"text-center no-wrap"},{data:"rainfall",name:"rainfall",sClass:"text-center"}]):"hour"===$("#time_type").val()?($("#data-telemetry-table thead").html('<tr><th class="text-center" scope="col">No.</th><th class="text-center" scope="col">Tanggal</th><th class="text-center" scope="col">Jam</th><th class="text-center" scope="col">CH (mm)</th><th class="text-center" scope="col">Intensitas</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"reading_hour",name:"reading_hour",sClass:"text-center no-wrap"},{data:"rainfall",name:"rainfall",sClass:"text-center"},{data:"intensity",name:"intensity",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #959392;">Berawan</div>':"Hujan Ringan"===e?'<div class="badge badge-telemetry-data badge-success">Hujan Ringan</div>':"Hujan Sedang"===e?'<div class="badge badge-telemetry-data badge-warning text-white">Hujan Sedang</div>':"Hujan Lebat"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #FF781F;">Hujan Lebat</div>':"Hujan Sangat Lebat"===e?'<div class="badge badge-telemetry-data badge-danger">Hujan Sangat Lebat</div>':"Hujan Ekstrem"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #800080;">Hujan Ekstrem</div>':"-"}}]):($("#data-telemetry-table thead").html('<tr><th class="text-center" scope="col">No.</th><th class="text-center" scope="col">Tanggal</th><th class="text-center" scope="col">CH (mm)</th><th class="text-center" scope="col">Intensitas</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center"},{data:"rainfall",name:"rainfall",sClass:"text-center"},{data:"intensity",name:"intensity",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #959392;">Berawan</div>':"Hujan Ringan"===e?'<div class="badge badge-telemetry-data badge-success">Hujan Ringan</div>':"Hujan Sedang"===e?'<div class="badge badge-telemetry-data badge-warning text-white">Hujan Sedang</div>':"Hujan Lebat"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #FF781F;">Hujan Lebat</div>':"Hujan Sangat Lebat"===e?'<div class="badge badge-telemetry-data badge-danger">Hujan Sangat Lebat</div>':"Hujan Ekstrem"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #800080;">Hujan Ekstrem</div>':"-"}}])):"AWLR & ARR"===o?(c=baseUrl+"/getAwlrArrReadingByPeriode","minute"===$("#time_type").val()?($("#data-telemetry-table thead").html('<tr><th class="text-center" rowspan="2" scope="col" style="vertical-align : middle;">No.</th><th class="text-center" rowspan="2" scope="col" style="vertical-align : middle;">Tanggal</th><th class="text-center" rowspan="2" scope="col" style="vertical-align : middle;">Jam</th><th class="text-center" scope="col" colspan="4">Duga Air</th><th class="text-center" rowspan="2" scope="col" style="vertical-align : middle;">CH (mm)</th></tr><tr><th class="text-center" scope="col">TMA</th><th class="text-center" scope="col">Perubahan</th><th class="text-center" scope="col">Debit (m3/s)</th><th class="text-center" scope="col">Status</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"reading_hour",name:"reading_hour",sClass:"text-center no-wrap"},{data:"tma",name:"tma",sClass:"text-center font-weight-bold"},{data:"change",name:"change",sClass:"text-center"},{data:"debit",name:"debit",sClass:"text-center"},{data:"status",name:"status",sClass:"text-center",render:function(e,t,a){return"Normal"===e?'<div class="badge text-white" style="background-color: #4DC27E;">Normal</div>':"Siaga 3"===e?'<div class="badge" style="background-color: #FFDA4F;">Siaga 3</div>':"Siaga 2"===e?'<div class="badge text-white" style="background-color: #FFA600;">Siaga 2</div>':"Siaga 1"===e?'<div class="badge text-white" style="background-color: #EF5350;">Siaga 1</div>':"-"}},{data:"rainfall",name:"rainfall",sClass:"text-center"}]):"hour"===$("#time_type").val()?($("#data-telemetry-table thead").html('<tr><th class="text-center" rowspan="2" scope="col" style="vertical-align : middle;">No.</th><th class="text-center" rowspan="2" scope="col" style="vertical-align : middle;">Tanggal</th><th class="text-center" rowspan="2" scope="col" style="vertical-align : middle;">Jam</th><th class="text-center" scope="col" colspan="4">Duga Air</th><th class="text-center" scope="col" colspan="2">Curah Hujan</th></tr><tr><th class="text-center" scope="col">TMA</th><th class="text-center" scope="col">Perubahan</th><th class="text-center" scope="col">Debit (m3/s)</th><th class="text-center" scope="col">Status</th><th class="text-center" scope="col">CH (mm)</th><th class="text-center" scope="col">Intensitas</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap",render:function(e,t,a){return moment.locale("id"),null!=a.reading_at&&""!=a.reading_at?moment(a.reading_at).format("D MMMM YYYY"):""}},{data:"reading_hour",name:"reading_hour",sClass:"text-center no-wrap",render:function(e,t,a){return moment.locale("id"),null!=a.reading_at&&""!=a.reading_at?moment(a.reading_at).format("HH:mm"):""}},{data:"tma",name:"tma",sClass:"text-center font-weight-bold"},{data:"change",name:"change",sClass:"text-center"},{data:"debit",name:"debit",sClass:"text-center"},{data:"status",name:"status",sClass:"text-center",render:function(e,t,a){return"Normal"===e?'<div class="badge text-white" style="background-color: #4DC27E;">Normal</div>':"Siaga 3"===e?'<div class="badge" style="background-color: #FFDA4F;">Siaga 3</div>':"Siaga 2"===e?'<div class="badge text-white" style="background-color: #FFA600;">Siaga 2</div>':"Siaga 1"===e?'<div class="badge text-white" style="background-color: #EF5350;">Siaga 1</div>':"-"}},{data:"rainfall",name:"rainfall",sClass:"text-center"},{data:"intensity",name:"intensity",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #959392;">Berawan</div>':"Hujan Ringan"===e?'<div class="badge badge-telemetry-data badge-success">Hujan Ringan</div>':"Hujan Sedang"===e?'<div class="badge badge-telemetry-data badge-warning text-white">Hujan Sedang</div>':"Hujan Lebat"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #FF781F;">Hujan Lebat</div>':"Hujan Sangat Lebat"===e?'<div class="badge badge-telemetry-data badge-danger">Hujan Sangat Lebat</div>':"Hujan Ekstrem"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #800080;">Hujan Ekstrem</div>':"-"}}]):($("#data-telemetry-table thead").html('<tr><th class="text-center" rowspan="2" scope="col" style="vertical-align : middle;">No.</th><th class="text-center" rowspan="2" scope="col" style="vertical-align : middle;">Tanggal</th><th class="text-center" scope="col" colspan="4">Duga Air</th><th class="text-center" scope="col" colspan="2">Curah Hujan</th></tr><tr><th class="text-center" scope="col">TMA</th><th class="text-center" scope="col">Perubahan</th><th class="text-center" scope="col">Debit (m3/s)</th><th class="text-center" scope="col">Status</th><th class="text-center" scope="col">CH (mm)</th><th class="text-center" scope="col">Intensitas</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center"},{data:"tma",name:"tma",sClass:"text-center font-weight-bold"},{data:"change",name:"change",sClass:"text-center"},{data:"debit",name:"debit",sClass:"text-center"},{data:"status",name:"status",sClass:"text-center",render:function(e,t,a){return"Normal"===e?'<div class="badge text-white" style="background-color: #4DC27E;">Normal</div>':"Siaga 3"===e?'<div class="badge" style="background-color: #FFDA4F;">Siaga 3</div>':"Siaga 2"===e?'<div class="badge text-white" style="background-color: #FFA600;">Siaga 2</div>':"Siaga 1"===e?'<div class="badge text-white" style="background-color: #EF5350;">Siaga 1</div>':"-"}},{data:"rainfall",name:"rainfall",sClass:"text-center"},{data:"intensity",name:"intensity",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #959392;">Berawan</div>':"Hujan Ringan"===e?'<div class="badge badge-telemetry-data badge-success">Hujan Ringan</div>':"Hujan Sedang"===e?'<div class="badge badge-telemetry-data badge-warning text-white">Hujan Sedang</div>':"Hujan Lebat"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #FF781F;">Hujan Lebat</div>':"Hujan Sangat Lebat"===e?'<div class="badge badge-telemetry-data badge-danger">Hujan Sangat Lebat</div>':"Hujan Ekstrem"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #800080;">Hujan Ekstrem</div>':"-"}}])):"AWS"===o?(c=baseUrl+"/getAwsReadingByPeriode","minute"===$("#time_type").val()?($("#data-telemetry-table thead").html('<tr><th class="text-center" scope="col">No.</th><th class="text-center" scope="col">Tanggal</th><th class="text-center" scope="col">Jam</th><th class="text-center" scope="col">Humidity (%)</th><th class="text-center" scope="col">Pressure (MB)</th><th class="text-center" scope="col">Rainfall (mm)</th><th class="text-center" scope="col">Solar Radiation</th><th class="text-center" scope="col">Temperature (&#x2103;)</th><th class="text-center" scope="col">Wind Direction (&deg;)</th><th class="text-center" scope="col">Wind Speed (M/S)</th><th class="text-center" scope="col">Volt (V)</th><th class="text-center" scope="col">Penguapan (mm)</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"reading_hour",name:"reading_hour",sClass:"text-center no-wrap"},{data:"humidity",name:"humidity",sClass:"text-center"},{data:"pressure",name:"pressure",sClass:"text-center"},{data:"rainfall",name:"rainfall",sClass:"text-center"},{data:"solar_radiation",name:"solar_radiation",sClass:"text-center"},{data:"temperature",name:"temperature",sClass:"text-center"},{data:"wind_direction",name:"wind_direction",sClass:"text-center"},{data:"wind_speed",name:"wind_speed",sClass:"text-center"},{data:"volt",name:"volt",sClass:"text-center"},{data:"evaporation",name:"evaporation",sClass:"text-center"}]):"hour"===$("#time_type").val()?($("#data-telemetry-table thead").html('<tr><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">No.</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Tanggal</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Jam</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Humidity (%)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Pressure (MB)</th><th class="text-center" scope="col" colspan="2">Rainfall</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Solar Radiation</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Temperature (&#x2103;)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Wind Direction (&deg;)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Wind Speed (M/S)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Volt (V)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Penguapan (mm)</th></tr><tr><th class="text-center" scope="col">CH (mm)</th><th class="text-center" scope="col">Intensitas</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"reading_hour",name:"reading_hour",sClass:"text-center"},{data:"humidity",name:"humidity",sClass:"text-center"},{data:"pressure",name:"pressure",sClass:"text-center"},{data:"rainfall",name:"rainfall",sClass:"text-center"},{data:"intensity",name:"intensity",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #959392;">Berawan</div>':"Hujan Ringan"===e?'<div class="badge badge-telemetry-data badge-success">Hujan Ringan</div>':"Hujan Sedang"===e?'<div class="badge badge-telemetry-data badge-warning text-white">Hujan Sedang</div>':"Hujan Lebat"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #FF781F;">Hujan Lebat</div>':"Hujan Sangat Lebat"===e?'<div class="badge badge-telemetry-data badge-danger">Hujan Sangat Lebat</div>':"Hujan Ekstrem"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #800080;">Hujan Ekstrem</div>':"-"}},{data:"solar_radiation",name:"solar_radiation",sClass:"text-center"},{data:"temperature",name:"temperature",sClass:"text-center"},{data:"wind_direction",name:"wind_direction",sClass:"text-center"},{data:"wind_speed",name:"wind_speed",sClass:"text-center"},{data:"volt",name:"volt",sClass:"text-center"},{data:"evaporation",name:"evaporation",sClass:"text-center"}]):($("#data-telemetry-table thead").html('<tr><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">No.</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Tanggal</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Humidity (%)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Pressure (MB)</th><th class="text-center" scope="col" colspan="2">Rainfall</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Solar Radiation</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Temperature (&#x2103;)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Wind Direction (&deg;)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Wind Speed (M/S)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Volt (V)</th><th class="text-center" scope="col" rowspan="2" style="vertical-align : middle;">Penguapan (mm)</th></tr><tr><th class="text-center" scope="col">CH (mm)</th><th class="text-center" scope="col">Intensitas</th></tr>'),g=[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1,sClass:"text-center",width:"7%"},{data:"reading_date",name:"reading_date",sClass:"text-center no-wrap"},{data:"humidity",name:"humidity",sClass:"text-center"},{data:"pressure",name:"pressure",sClass:"text-center"},{data:"rainfall",name:"rainfall",sClass:"text-center"},{data:"intensity",name:"intensity",sClass:"text-center",render:function(e,t,a){return"Berawan"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #959392;">Berawan</div>':"Hujan Ringan"===e?'<div class="badge badge-telemetry-data badge-success">Hujan Ringan</div>':"Hujan Sedang"===e?'<div class="badge badge-telemetry-data badge-warning text-white">Hujan Sedang</div>':"Hujan Lebat"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #FF781F;">Hujan Lebat</div>':"Hujan Sangat Lebat"===e?'<div class="badge badge-telemetry-data badge-danger">Hujan Sangat Lebat</div>':"Hujan Ekstrem"===e?'<div class="badge badge-telemetry-data text-white" style="background-color: #800080;">Hujan Ekstrem</div>':"-"}},{data:"solar_radiation",name:"solar_radiation",sClass:"text-center"},{data:"temperature",name:"temperature",sClass:"text-center"},{data:"wind_direction",name:"wind_direction",sClass:"text-center"},{data:"wind_speed",name:"wind_speed",sClass:"text-center"},{data:"volt",name:"volt",sClass:"text-center"},{data:"evaporation",name:"evaporation",sClass:"text-center"}])):$("#data-telemetry-table").empty(),i=$("#data-telemetry-table").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],language:{url:baseUrl+"/data/datatable_indonesia.json"},ajax:{url:c,type:"POST",datatype:"JSON",headers:{"X-CSRF-TOKEN":token},data:function(e){e.station_id=d,e.periode=$("#periode").val(),e.time_type=$("#time_type").val(),e._token=token}},ordering:!1,columns:g,serverSide:"true",processing:"true",drawCallback:function(){$(".modal").css("overflow-y","auto"),$(".dataTables_paginate > .pagination").addClass("pagination-rounded")}})}function y(){$.ajax({url:baseUrl+"/getChartData",type:"POST",dataType:"JSON",headers:{"X-CSRF-TOKEN":token},data:{station_id:d,periode:$("#periode_chart").val(),time_type:$("#time_type_chart").val()},beforeSend:function(){$(Highcharts.charts).each((function(e,t){t&&t.destroy()})),$("#divChartStatus").empty(),$("#divChart").empty().html('<div class="text-center"><div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div></div>')},success:function(e){if(200===e.metaData.code)if($("#divChart").empty(),"AWLR"===o){var t=[];null!=e.response.level&&(null==e.response.level.siaga_1&&""==e.response.level.siaga_1||t.push({color:"rgba(239, 83, 80, 0.8)",dashStyle:"longdashdot",value:e.response.level.siaga_1,width:1,label:{text:"Siaga 1",style:{color:"#a5a5a5"}}}),null==e.response.level.siaga_2&&""==e.response.level.siaga_2||t.push({color:"rgba(255, 166, 0, 0.8)",dashStyle:"longdashdot",value:e.response.level.siaga_2,width:1,label:{text:"Siaga 2",style:{color:"#a5a5a5"}}}),null==e.response.level.siaga_3&&""==e.response.level.siaga_3||t.push({color:"rgba(255, 218, 79, 0.8)",dashStyle:"longdashdot",value:e.response.level.siaga_3,width:1,label:{text:"Siaga 3",style:{color:"#a5a5a5"}}}));var a=[];"minute"===$("#time_type_chart").val()?a=[{type:"hour",count:1,text:"1h"},{type:"day",count:1,text:"1d"},{type:"all",text:"All"}]:"hour"!==$("#time_type_chart").val()&&"day"!==$("#time_type_chart").val()||(a=[{type:"day",count:1,text:"1d"},{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"all",text:"All"}]);var s="%e %b %Y %H:%M";if("day"===$("#time_type_chart").val())s="%e %b %Y";$("#divChartStatus").html('<div class="col-auto"><span style="background-color:rgba(255,255,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> : Siaga 3</div><div class="col-auto"><span style="background-color:rgba(255,165,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> : Siaga 2</div><div class="col-auto"><span style="background-color:rgba(255,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> : Siaga 1</div>'),Highcharts.stockChart("divChartTest",{rangeSelector:{buttons:a,selected:1,inputEnabled:!1},chart:{type:"spline"},exporting:{buttons:{contextButton:{menuItems:["downloadPNG","downloadJPEG","downloadPDF"]}}},title:{text:"Grafik "+e.response.type},subtitle:{text:"Per "+e.response.periode},xAxis:{type:"category",labels:{rotation:-45,style:{fontSize:"11px",fontFamily:"Verdana, sans-serif"}}},yAxis:{opposite:!1,min:0,startOnTick:!1,minorGridLineWidth:0,gridLineWidth:0,title:{text:e.response.type+" ("+e.response.unit+")",style:{color:Highcharts.getOptions().colors[0]}},labels:{format:"{value}",style:{color:Highcharts.getOptions().colors[0]}},plotLines:t},legend:{enabled:!1},tooltip:{xDateFormat:s,valueSuffix:" "+e.response.unit},plotOptions:{spline:{states:{hover:{lineWidth:2}},marker:{enabled:!1}},series:{dataGrouping:{enabled:!1}}},series:[{name:e.response.type,data:e.response.data}],navigation:{menuItemStyle:{fontSize:"10px"}}})}else"ARR"===o?Highcharts.chart("divChart",{chart:{type:"column"},exporting:{buttons:{contextButton:{menuItems:["downloadPNG","downloadJPEG","downloadPDF"]}}},title:{text:"Grafik "+e.response.type},subtitle:{text:"Per "+e.response.periode},xAxis:{type:"category",labels:{rotation:-45,style:{fontSize:"11px",fontFamily:"Verdana, sans-serif"}}},yAxis:{gridLineWidth:0,title:{text:e.response.type,style:{color:Highcharts.getOptions().colors[0]}},labels:{format:"{value} "+e.response.unit,style:{color:Highcharts.getOptions().colors[0]}}},legend:{enabled:!1},tooltip:{headerFormat:'<span style="font-size: 10px">'+e.response.time+" : {point.key} </span><br/>",valueSuffix:" "+e.response.unit},series:[{name:e.response.type,data:e.response.data}]}):"AWLR & ARR"===o?($("#divChartStatus").html('<div class="col-auto"><span style="background-color:rgba(255,255,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> : Siaga 3</div><div class="col-auto"><span style="background-color:rgba(255,165,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> : Siaga 2</div><div class="col-auto"><span style="background-color:rgba(255,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> : Siaga 1</div>'),Highcharts.chart("divChart",{chart:{zoomType:"xy"},exporting:{buttons:{contextButton:{menuItems:["downloadPNG","downloadJPEG","downloadPDF"]}}},title:{text:"Grafik "+e.response.type},subtitle:{text:"Per "+e.response.periode},xAxis:{type:"category",labels:{rotation:-45,style:{fontSize:"11px",fontFamily:"Verdana, sans-serif"}},crosshair:!0},yAxis:[{startOnTick:!1,minorGridLineWidth:0,gridLineWidth:0,title:{text:e.response.type,style:{color:Highcharts.getOptions().colors[0]}},labels:{format:"{value}",style:{color:Highcharts.getOptions().colors[0]}}},{title:{text:"Curah Hujan",style:{color:"#069550"}},labels:{format:"{value} mm",style:{color:"#069550"}},opposite:!0,reversed:!0}],tooltip:{shared:!0},plotOptions:{spline:{states:{hover:{lineWidth:2}},marker:{enabled:!1}},series:{}},series:[{name:"Curah Hujan",type:"column",yAxis:1,data:e.response.arr,tooltip:{valueSuffix:" mm"},color:"#069550"},{name:e.response.type,type:"spline",data:e.response.awlr,tooltip:{headerFormat:'<span style="font-size: 10px">'+e.response.time+" : {point.key} </span><br/>",valueSuffix:" "+e.response.unit},color:Highcharts.getOptions().colors[0]}],navigation:{menuItemStyle:{fontSize:"10px"}}})):"AWS"===o&&Highcharts.chart("divChart",{chart:{zoomType:"xy"},title:{text:"Grafik "+e.response.type},subtitle:{text:"Per "+e.response.periode},exporting:{buttons:{contextButton:{menuItems:["downloadPNG","downloadJPEG","downloadPDF"]}}},xAxis:[{type:"category",labels:{rotation:-45,style:{fontSize:"11px",fontFamily:"Verdana, sans-serif"}}}],yAxis:[{gridLineWidth:0,title:{text:e.response.type,style:{color:Highcharts.getOptions().colors[0]}},labels:{format:"{value} "+e.response.unit,style:{color:Highcharts.getOptions().colors[0]}}}],tooltip:{shared:!0},legend:{layout:"horizontal",align:"left",x:80,verticalAlign:"top",y:55,floating:!0,backgroundColor:Highcharts.defaultOptions.legend.backgroundColor||"rgba(255,255,255,0.25)"},series:[{type:"column",name:"Rainfall",data:e.response.rf},{type:"spline",name:"Humidity",data:e.response.data},{type:"spline",name:"Pressure",data:e.response.pr},{type:"spline",name:"Solar Radiation",data:e.response.sr},{type:"spline",name:"Temperature",data:e.response.tmp},{type:"spline",name:"Wind Direction",data:e.response.wd},{type:"spline",name:"Wind Speed",data:e.response.ws},{type:"spline",name:"Volt",data:e.response.volt},{type:"spline",name:"Penguapan",data:e.response.evp}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{floating:!1,layout:"horizontal",align:"center",verticalAlign:"bottom",x:0,y:0},yAxis:[{labels:{align:"right",x:0,y:-6},showLastLabel:!1},{labels:{align:"left",x:0,y:-6},showLastLabel:!1},{visible:!1}]}}]}})},error:function(e,t,a){$.NotificationApp.send("Failed!",formatErrorMessage(e,a),"top-right","#da8609","warning",5e3)}})}function _(e,t,a){var s=new Image;s.onload=t,s.onerror=a,s.src=e}jQuery(document).ready((function(){m.init()})),window.showDetail=function(e){var t=$(e).attr("data");$.ajax({url:baseUrl+"/home/maps/"+t,type:"GET",headers:{"X-CSRF-TOKEN":token},dataType:"JSON",beforeSend:function(){$("#data-telemetry-info").html(""),$("#tab-detail-cctv").html('<h5 class="p-2 bg-light text-uppercase text-center">DATA TIDAK TERSEDIA</h5>'),swalLoading("Loading...","MENAMPILKAN DETAIL POS")},success:function(e){if(Swal.close(),200===e.metaData.code){switch(d=e.response.id,o=e.response.type,$("#detail_station_name").text(e.response.name),$("#detail_image").attr("alt",e.response.name),null===e.response.image||""===e.response.image?($("#detail_image").attr("src",baseUrl+"/storage/stations/default.jpeg"),$("#detail_image_url").attr("href",baseUrl+"/storage/stations/default.jpeg"),$("#detail_image_url").attr("title",e.response.name),$("#detail_image").attr("alt",e.response.name)):($("#detail_image").attr("src",baseUrl+"/storage/stations/"+e.response.image),$("#detail_image_url").attr("href",baseUrl+"/storage/stations/"+e.response.image),$("#detail_image_url").attr("title",e.response.name)),e.response.type){case"AWLR":$("#detail_station_type").text("Pos Duga Air"),$("#data-telemetry-info").html('<div class="row justify-content-center"><div class="col-auto"><span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Naik</span></div><div class="col-auto"><span><i class="mdi mdi-arrow-right-circle text-blue font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Tetap</span></div><div class="col-auto"><span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Menurun</span></div></div>');break;case"ARR":$("#detail_station_type").text("Pos Curah Hujan"),$("#data-telemetry-info").html('<i class="mdi mdi-information"></i> Data yang ditampilkan Pkl 07:00 s.d 06:59 (H+1)');break;case"AWLR & ARR":$("#detail_station_type").text("Pos Duga Air & Curah Hujan"),$("#data-telemetry-info").html('<div class="row justify-content-center"><div class="col-auto"><span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Naik</span></div><div class="col-auto"><span><i class="mdi mdi-arrow-right-circle text-blue font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Tetap</span></div><div class="col-auto"><span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Menurun</span></div></div><i class="mdi mdi-information"></i> Data Curah Hujan yang ditampilkan Pkl 07:00 s.d 06:59 (H+1)');break;case"AWS":$("#detail_station_type").text("Pos Klimatologi");break;default:$("#detail_station_type").text("-")}console.log(e),null!=e.response.no_register?$("#detail_no_register").text(e.response.no_register):$("#detail_no_register").text("-"),null!=e.response.wilayah_sungai?$("#detail_wilayah_sungai").text(e.response.wilayah_sungai):$("#detail_wilayah_sungai").text("-"),null!=e.response.built_year?$("#detail_built_year").text(e.response.built_year):$("#detail_built_year").text("-"),null!=e.response.built_by?$("#detail_built_by").text(e.response.built_by):$("#detail_built_by").text("-"),null!=e.response.renov_year?$("#detail_renov_year").text(e.response.renov_year):$("#detail_renov_year").text("-"),null!=e.response.renov_by?$("#detail_renov_by").text(e.response.renov_by):$("#detail_renov_by").text("-"),null!=e.response.note?$("#detail_note").text(e.response.note):$("#detail_note").text("-"),null!=e.response.elevation?$("#detail_elevation").text(e.response.elevation+" Mdpl"):$("#detail_elevation").text("-"),$("#detail_device_id").text(e.response.device.device_id),null!=e.response.device.installed_date?$("#detail_installed_date").text(e.response.device.installed_date):$("#detail_installed_date").text("-"),null!=e.response.das?$("#detail_das").text(e.response.das.name):$("#detail_das").text("-"),null!=e.response.sub_das?$("#detail_sub_das").text(e.response.sub_das.name):$("#detail_sub_das").text("-"),null!=e.response.province?$("#detail_province").text(e.response.province.name):$("#detail_province").text("-"),null!=e.response.regency?$("#detail_city").text(e.response.regency.name):$("#detail_city").text("-"),null!=e.response.district?$("#detail_district").text(e.response.district.name):$("#detail_district").text("-"),null!=e.response.village?$("#detail_village").text(e.response.village.name):$("#detail_village").text("-"),$("#detail_coordinate").text(e.response.latitude+", "+e.response.longitude),$("#time_type").val("minute");var t=new Date,a=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();t=n+"-"+s+"-"+a,$("#periode").val(t),x(),y();var l=Date.now(),r="http://flooducation.com/"+e.response.cctv_logger_id+".jpg?version="+l;_(r,(function(){$("#tab-detail-cctv").html('<div class="row"><div class="col-12 col-lg-6 mx-auto"><a href="'+r+'" title="" id="detail_image_cctv" style="cursor: zoom-in;"><img src="'+r+'" class="img-fluid rounded" alt="" id="detail_cctv"></a></div></div>'),$("#detail_image_cctv").magnificPopup({type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0,titleSrc:function(e){return e.el.attr("title")}},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(e){return e.find("img")}}})}),(function(){$("#tab-detail-cctv").html('<h5 class="p-2 bg-light text-uppercase text-center">DATA TIDAK TERSEDIA</h5>')})),$("#modalDetail").modal("show")}else $.NotificationApp.send("Failed!",e.metaData.message,"top-right","#da8609","warning",5e3)},error:function(e,t,a){Swal.close(),$.NotificationApp.send("Failed!",formatErrorMessage(e,a),"top-right","#da8609","warning",5e3)}})},window.showDetailByDeviceId=function(e){var t=$(e).attr("data");$.ajax({url:baseUrl+"/home/mapDetailByDeviceId/"+t,type:"GET",headers:{"X-CSRF-TOKEN":token},dataType:"JSON",beforeSend:function(){$("#data-telemetry-info").html(""),$("#tab-detail-cctv").html('<h5 class="p-2 bg-light text-uppercase text-center">DATA TIDAK TERSEDIA</h5>'),swalLoading("Loading...","MENAMPILKAN DETAIL POS")},success:function(e){if(Swal.close(),200===e.metaData.code){switch(d=e.response.id,o=e.response.type,$("#detail_station_name").text(e.response.name),$("#detail_image").attr("alt",e.response.name),null===e.response.image||""===e.response.image?($("#detail_image").attr("src",baseUrl+"/storage/stations/default.jpeg"),$("#detail_image_url").attr("href",baseUrl+"/storage/stations/default.jpeg"),$("#detail_image_url").attr("title",e.response.name),$("#detail_image").attr("alt",e.response.name)):($("#detail_image").attr("src",baseUrl+"/storage/stations/"+e.response.image),$("#detail_image_url").attr("href",baseUrl+"/storage/stations/"+e.response.image),$("#detail_image_url").attr("title",e.response.name)),e.response.type){case"AWLR":$("#detail_station_type").text("Pos Duga Air"),$("#data-telemetry-info").html('<div class="row justify-content-center"><div class="col-auto"><span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Naik</span></div><div class="col-auto"><span><i class="mdi mdi-arrow-right-circle text-blue font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Tetap</span></div><div class="col-auto"><span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Menurun</span></div></div>');break;case"ARR":$("#detail_station_type").text("Pos Curah Hujan"),$("#data-telemetry-info").html('<i class="mdi mdi-information"></i> Data yang ditampilkan Pkl 07:00 s.d 06:59 (H+1)');break;case"AWLR & ARR":$("#detail_station_type").text("Pos Duga Air & Curah Hujan"),$("#data-telemetry-info").html('<div class="row justify-content-center"><div class="col-auto"><span><i class="mdi mdi-arrow-up-circle text-danger font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Naik</span></div><div class="col-auto"><span><i class="mdi mdi-arrow-right-circle text-blue font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Tetap</span></div><div class="col-auto"><span><i class="mdi mdi-arrow-down-circle text-success font-weight-bold" style="font-size: 15px;"></i> : Tinggi Air Menurun</span></div></div><i class="mdi mdi-information"></i> Data Curah Hujan yang ditampilkan Pkl 07:00 s.d 06:59 (H+1)');break;case"AWS":$("#detail_station_type").text("Pos Klimatologi");break;default:$("#detail_station_type").text("-")}null!=e.response.no_register?$("#detail_no_register").text(e.response.no_register):$("#detail_no_register").text("-"),null!=e.response.wilayah_sungai?$("#detail_wilayah_sungai").text(e.response.wilayah_sungai):$("#detail_wilayah_sungai").text("-"),null!=e.response.built_year?$("#detail_built_year").text(e.response.built_year):$("#detail_built_year").text("-"),null!=e.response.built_by?$("#detail_built_by").text(e.response.built_by):$("#detail_built_by").text("-"),null!=e.response.renov_year?$("#detail_renov_year").text(e.response.renov_year):$("#detail_renov_year").text("-"),null!=e.response.renov_by?$("#detail_renov_by").text(e.response.renov_by):$("#detail_renov_by").text("-"),null!=e.response.note?$("#detail_note").text(e.response.note):$("#detail_note").text("-"),null!=e.response.elevation?$("#detail_elevation").text(e.response.elevation+" Mdpl"):$("#detail_elevation").text("-"),$("#detail_device_id").text(e.response.device.device_id),null!=e.response.device.installed_date?$("#detail_installed_date").text(e.response.device.installed_date):$("#detail_installed_date").text("-"),null!=e.response.das?$("#detail_das").text(e.response.das.name):$("#detail_das").text("-"),null!=e.response.sub_das?$("#detail_sub_das").text(e.response.sub_das.name):$("#detail_sub_das").text("-"),null!=e.response.province?$("#detail_province").text(e.response.province.name):$("#detail_province").text("-"),null!=e.response.regency?$("#detail_city").text(e.response.regency.name):$("#detail_city").text("-"),null!=e.response.district?$("#detail_district").text(e.response.district.name):$("#detail_district").text("-"),null!=e.response.village?$("#detail_village").text(e.response.village.name):$("#detail_village").text("-"),$("#detail_coordinate").text(e.response.latitude+", "+e.response.longitude),$("#time_type").val("minute");var t=new Date,a=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();t=n+"-"+s+"-"+a,$("#periode").val(t),x(),y();var l=Date.now(),r="http://flooducation.com/"+e.response.cctv_logger_id+".jpg?version="+l;_(r,(function(){$("#tab-detail-cctv").html('<div class="row"><div class="col-12 col-lg-6 mx-auto"><a href="'+r+'" title="" id="detail_image_cctv" style="cursor: zoom-in;"><img src="'+r+'" class="img-fluid rounded" alt="" id="detail_cctv"></a></div></div>'),$("#detail_image_cctv").magnificPopup({type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0,titleSrc:function(e){return e.el.attr("title")}},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(e){return e.find("img")}}})}),(function(){$("#tab-detail-cctv").html('<h5 class="p-2 bg-light text-uppercase text-center">DATA TIDAK TERSEDIA</h5>')})),$("#modalDetail").modal("show")}else $.NotificationApp.send("Failed!",e.metaData.message,"top-right","#da8609","warning",5e3)},error:function(e,t,a){Swal.close(),$.NotificationApp.send("Failed!",formatErrorMessage(e,a),"top-right","#da8609","warning",5e3)}})},$(document).on("change","#filter_das",(function(){s.ajax.reload(),n.ajax.reload()}))}});